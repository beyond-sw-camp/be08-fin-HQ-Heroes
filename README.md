<div align="center">
  <img src="https://capsule-render.vercel.app/api?type=waving&height=200&color=gradient&text=HQ%20-%20HeRoes&section=header&reversal=false&fontAlign=50&fontAlignY=40" width="100%">
</div>

<div align="center">
  <h3>í•œí™”ì‹œìŠ¤í…œ BEYOND SW ìº í”„ ìµœì¢… í”„ë¡œì íŠ¸ - 1ì¡° HQ</h3>
  <h3>ğŸ‘¨â€ğŸ’» ì¸ì‚¬ ê´€ë¦¬ ì‹œìŠ¤í…œ - HeRoes ğŸ‘¨â€ğŸ’»</h3>
</div>

## ğŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ ğŸ› ï¸

### FrontEnd
<div>
  <img src="https://img.shields.io/badge/HTML5-%23E34F26?style=for-the-badge&logo=html5&logoColor=white">
  <img src="https://img.shields.io/badge/CSS3-%231572B6?style=for-the-badge&logo=css3&logoColor=white">
  <img src="https://img.shields.io/badge/JavaScript-%23F7DF1E?style=for-the-badge&logo=javascript&logoColor=black">
  <img src="https://img.shields.io/badge/Vue.js-%234FC08D?style=for-the-badge&logo=vuedotjs&logoColor=white">
  <img src="https://img.shields.io/badge/Vite-%23646CFF?style=for-the-badge&logo=vite&logoColor=white">
  <img src="https://img.shields.io/badge/PrimeVue-%23009c5d?style=for-the-badge&logo=vue.js&logoColor=white">
</div>

### BackEnd
<div>
  <img src="https://img.shields.io/badge/Java-%23ED8B00?style=for-the-badge&logo=openjdk&logoColor=white">
  <img src="https://img.shields.io/badge/Spring%20Boot-%236DB33F?style=for-the-badge&logo=springboot&logoColor=white">
  <img src="https://img.shields.io/badge/Spring%20Security-%236DB33F?style=for-the-badge&logo=springsecurity&logoColor=white">
  <img src="https://img.shields.io/badge/Spring%20Data%20JPA-%236DB33F?style=for-the-badge&logo=spring&logoColor=white">
  <img src="https://img.shields.io/badge/Spring%20Batch-%236DB33F?style=for-the-badge&logo=spring&logoColor=white">
  <img src="https://img.shields.io/badge/Gradle-%2302303A?style=for-the-badge&logo=gradle&logoColor=white">
</div>

### DataBase
<div>
  <img src="https://img.shields.io/badge/MariaDB-%23003545?style=for-the-badge&logo=mariadb&logoColor=white">
  <img src="https://img.shields.io/badge/Redis-%23DC382D?style=for-the-badge&logo=redis&logoColor=white">
</div>

### CI/CD
<div>
  <img src="https://img.shields.io/badge/Jenkins-%23D24939?style=for-the-badge&logo=jenkins&logoColor=white">
  <img src="https://img.shields.io/badge/ArgoCD-%23F85050?style=for-the-badge&logo=argo&logoColor=white">
  <img src="https://img.shields.io/badge/Docker-%232496ED?style=for-the-badge&logo=docker&logoColor=white">
  <img src="https://img.shields.io/badge/Kubernetes-%23326CE5?style=for-the-badge&logo=kubernetes&logoColor=white">
</div>

### Infrastructure
<div>
  <img src="https://img.shields.io/badge/AWS-%23FF9900?style=for-the-badge&logo=amazonaws&logoColor=white">
  <img src="https://img.shields.io/badge/EKS-%23FF9900?style=for-the-badge&logo=kubernetes&logoColor=white">
  <img src="https://img.shields.io/badge/EC2-%23FF9900?style=for-the-badge&logo=amazonec2&logoColor=white">
  <img src="https://img.shields.io/badge/ECR-%23FF9900?style=for-the-badge&logo=docker&logoColor=white">
  <img src="https://img.shields.io/badge/Route%2053-%23FF9900?style=for-the-badge&logo=amazonroute53&logoColor=white">
  <img src="https://img.shields.io/badge/RDS-%23FF9900?style=for-the-badge&logo=amazonrds&logoColor=white">
  <img src="https://img.shields.io/badge/Firebase-%23FFCA28?style=for-the-badge&logo=firebase&logoColor=black">
</div>

### Version Control
<div>
  <img src="https://img.shields.io/badge/Git-%23F05032?style=for-the-badge&logo=git&logoColor=white">
  <img src="https://img.shields.io/badge/SourceTree-%230052CC?style=for-the-badge&logo=sourcetree&logoColor=white">
</div>

### í˜‘ì—… íˆ´
<div>
  <img src="https://img.shields.io/badge/Notion-%23000000?style=for-the-badge&logo=notion&logoColor=white">
  <img src="https://img.shields.io/badge/Google%20Docs-%234285F4?style=for-the-badge&logo=googledocs&logoColor=white">
  <img src="https://img.shields.io/badge/GitHub-%23181717?style=for-the-badge&logo=github&logoColor=white">
  <img src="https://img.shields.io/badge/IntelliJ%20IDEA-%23000000?style=for-the-badge&logo=intellij-idea&logoColor=white">
  <img src="https://img.shields.io/badge/VS%20Code-%23007ACC?style=for-the-badge&logo=visual-studio-code&logoColor=white">
  <img src="https://img.shields.io/badge/Discord-%235865F2?style=for-the-badge&logo=discord&logoColor=white">
</div>

<br>

## ğŸ”† í”„ë¡œì íŠ¸ ê°œìš” ë° ê¸°ëŒ€íš¨ê³¼
HeRoes í”„ë¡œì íŠ¸ëŠ” ì‚¬ì›ë“¤ì˜ ì—…ë¬´ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ê´€ë¦¬í•˜ê¸° ìœ„í•´ ê·¼íƒœ ê´€ë¦¬ ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ê¸‰ì—¬ë¥¼ **ìë™í™”**í•˜ëŠ” HRê´€ë¦¬ ì‹œìŠ¤í…œì…ë‹ˆë‹¤. ê¸‰ì—¬ë¥¼ ê³„ì‚°í•˜ëŠ” ê³¼ì •ì—ì„œ ë°œìƒí•˜ëŠ” ì˜¤ë¥˜ë¥¼ ì¤„ì´ê³ , ìˆ˜ë™ ì²˜ë¦¬ì— ë“œëŠ” ì‹œê°„ì„ ì ˆì•½í•˜ëŠ” ê²ƒì„ ëª©í‘œë¡œ í•˜ê³  ìˆìŠµë‹ˆë‹¤. ë˜í•œ, ì‚¬ì›ë“¤ì˜ ì¼ì •ì„ í•œ ëˆˆì— í™•ì¸ í•  ìˆ˜ ìˆëŠ” íŒ€ ìº˜ë¦°ë” ì‹œìŠ¤í…œ, íšŒì‚¬ì—ì„œ ì§„í–‰í•˜ëŠ” êµìœ¡ ë“±ì„ ì œê³µí•˜ì—¬ ì‚¬ì›ë“¤ì˜ ë§Œì¡±ë„ë¥¼ í–¥ìƒì‹œí‚¤ëŠ” ê²ƒì„ ëª©í‘œë¡œ í•©ë‹ˆë‹¤.

- ì•„ë‚ ë¡œê·¸ ë°©ì‹ â†’ ìë™í™”ë¥¼ í†µí•œ ì—…ë¬´ íš¨ìœ¨ì„± í–¥ìƒ
- ì¤‘ìš” ì •ë³´ ì „ë‹¬ ëˆ„ë½ â†’ ì˜ì‚¬ì†Œí†µ ê°œì„ 
- ì—…ë¬´ì— í•„ìš”í•œ ì§€ì‹Â·ê¸°ìˆ  ë¶€ì¡± â†’ ì§ì› ì—­ëŸ‰ ê°•í™”

<br>

## ğŸ“‘ í”„ë¡œì íŠ¸ ê¸°íšì„œ


[í”„ë¡œì íŠ¸ ê¸°íšì„œ](https://playdatacademy.notion.site/fceae5c3219e48a6a0dfb8c45d8950ef)


<br>

## ğŸ“‘ ìš”êµ¬ì‚¬í•­ ëª…ì„¸ì„œ


[ìš”êµ¬ì‚¬í•­ ëª…ì„¸ì„œ](https://docs.google.com/spreadsheets/d/1gIjLOrHr1-IwU91V1MYbFB8cUNTFC7fKNmpyoDQDz0Y/edit?gid=0#gid=0)


<br>

## ğŸ“… WBS

[WBS](https://docs.google.com/spreadsheets/d/11uxzOc_F1XGaa-jF9gtnNzzb2FqxmP_m8B-FbtFqEb8/edit?gid=0#gid=0)

<br>

## ğŸ“‹ ERD

[ERD](https://www.erdcloud.com/d/8E4tc7rcJ3nv7s2pq)

<br>

## ğŸ“º í™”ë©´ ì„¤ê³„ì„œ

[í™”ë©´ ì„¤ê³„ì„œ](https://www.figma.com/board/gluKEJsk3zgrZrrMgvBh7U/HeRoes-í™”ë©´-ì„¤ê³„ì„œ?node-id=0-1&t=r8PfiIedMNaRsowv-1)

<br>

## ğŸ“„ API ëª…ì„¸ì„œ

[API ëª…ì„¸ì„œ](https://playdatacademy.notion.site/API-5b7e16a67c6e407ea0e5035153c6bc88?pvs=4)

<br>

## ğŸ“œ í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤

[í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤](https://docs.google.com/spreadsheets/d/10T3jsm3aS-NS-D-3E92f18xkcve6frEbmGwcAcYbNQg/edit?gid=0#gid=0)

<br>

## ğŸ“ˆ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ê²°ê³¼ì„œ

[ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ê²°ê³¼ì„œ](https://docs.google.com/spreadsheets/d/16IVL1Zvi8nouXRf0L8f5Z_AEXyXcuqNTStf0ODIuzrc/edit?gid=0#gid=0)

<br>

## UI/UX ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ê²°ê³¼ì„œ

[UI/UX ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ê²°ê³¼ì„œ](https://docs.google.com/spreadsheets/d/1p2S1Dx_Czk0cFEXHtt2w0ZFetm8syJea9jIj2o6hSeE/edit?gid=0#gid=0)

<br>

## ğŸ“‘ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜
![ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜](https://github.com/user-attachments/assets/987dc595-7efb-4ef7-9006-bd64d40930aa)
<br>

<br>

## ğŸ“‘ í†µí•© í…ŒìŠ¤íŠ¸
[í†µí•© í…ŒìŠ¤íŠ¸](https://www.notion.so/playdatacademy/69a4e1b2079546d1bf5a0f56214882fc)

<br>

## ğŸ“‘ CI/CD ê³„íšì„œ
[CI/CD ê³„íšì„œ](https://www.notion.so/playdatacademy/CI-CD-e63235a2c456455f9852ae393fd53e67)

<br>

## ğŸš€ CI/CD íŒŒì´í”„ë¼ì¸

ì´ **CI/CD íŒŒì´í”„ë¼ì¸**ì€ AWS í™˜ê²½ì—ì„œ ì• í”Œë¦¬ì¼€ì´ì…˜ ë°°í¬ë¥¼ ìë™í™”í•˜ì—¬ ì•ˆì •ì ì´ê³  í™•ì¥ ê°€ëŠ¥í•œ í™˜ê²½ì„ êµ¬ì¶•í•˜ëŠ” ë° ì¤‘ì ì„ ë‘ê³  ìˆìŠµë‹ˆë‹¤. **Jenkins**ë¥¼ í†µí•œ ì§€ì†ì  í†µí•©(CI)ê³¼ **ArgoCD**ë¥¼ í†µí•œ ì§€ì†ì  ë°°í¬(CD)ë¥¼ ê²°í•©í•˜ì—¬, ì½”ë“œì—ì„œ ë°°í¬ê¹Œì§€ì˜ ê³¼ì •ì„ íš¨ìœ¨ì ì´ê³  ë¹ ë¥´ê²Œ ê´€ë¦¬í•©ë‹ˆë‹¤.


### CI/CD í™˜ê²½ êµ¬ì„± ê°œìš” ğŸŒ

- **AWS EKS**: ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ë° ArgoCD ì„œë²„ í˜¸ìŠ¤íŒ…
- **AWS EC2**: Jenkins ì„œë²„ í˜¸ìŠ¤íŒ…
- **AWS ECR**: Docker ì´ë¯¸ì§€ë¥¼ ì €ì¥í•˜ê³  ê´€ë¦¬í•˜ëŠ” ë ˆì§€ìŠ¤íŠ¸ë¦¬

### CI/CD íŒŒì´í”„ë¼ì¸ íë¦„ ğŸ“ˆ

1. **ê°œë°œìê°€ GitHubì˜ main ë¸Œëœì¹˜ì— ì½”ë“œ í‘¸ì‹œ**: ì›¹í›…ì„ í†µí•´ CI íŒŒì´í”„ë¼ì¸ íŠ¸ë¦¬ê±°
2. **Jenkins ì„œë²„ì—ì„œ ì½”ë“œ ë³€ê²½ ì‚¬í•­ ê°ì§€**: GitHubì—ì„œ ë³€ê²½ ì‚¬í•­ì„ ê°ì§€í•˜ì—¬ ì• í”Œë¦¬ì¼€ì´ì…˜ ë¹Œë“œ
3. **AWS ECRì— Docker ì´ë¯¸ì§€ í‘¸ì‹œ**: ë¹Œë“œëœ Docker ì´ë¯¸ì§€ë¥¼ AWS ECRì— í‘¸ì‹œ
4. **ArgoCDì— ë°°í¬ íŒŒì¼ ì—…ë°ì´íŠ¸**: ë³€ê²½ëœ ì´ë¯¸ì§€ë¥¼ ë°˜ì˜í•˜ì—¬ ë°°í¬ íŒŒì¼ì„ ìˆ˜ì •í•˜ê³  GitHubì— í‘¸ì‹œ
5. **ArgoCD ìë™ ë°°í¬**: GitHubì˜ ë³€ê²½ ì‚¬í•­ì„ ê°ì§€í•˜ì—¬ ìë™ ë°°í¬ ìˆ˜í–‰ ë˜ëŠ” ìˆ˜ë™ ë°°í¬ ì˜µì…˜
### Jenkins CI ë‹¨ê³„ âš™ï¸
<details>
	<summary>1. í™˜ê²½ ë³€ìˆ˜ ì„¤ì • (Environment)</summary>
	
	Jenkins íŒŒì´í”„ë¼ì¸ì—ì„œ ì‚¬ìš©í•  í™˜ê²½ ë³€ìˆ˜ë“¤ì„ ì„¤ì •
	AWS_REGION: AWS ë¦¬ì „ ì„¤ì • (ap-northeast-2)
	ECR_REGISTRY: ECR ë ˆì§€ìŠ¤íŠ¸ë¦¬ ì£¼ì†Œ
	FRONTEND_REPOSITORY: í”„ë¡ íŠ¸ì—”ë“œ Docker ì´ë¯¸ì§€ ë ˆí¬ì§€í† ë¦¬
	BACKEND_REPOSITORY: ë°±ì—”ë“œ Docker ì´ë¯¸ì§€ ë ˆí¬ì§€í† ë¦¬
	FRONTEND_IMAGE_TAG: í”„ë¡ íŠ¸ì—”ë“œ ì´ë¯¸ì§€ íƒœê·¸
	BACKEND_IMAGE_TAG: ë°±ì—”ë“œ ì´ë¯¸ì§€ íƒœê·¸
 	
</details>

<details>
	<summary>2. Checkout Stage (ì½”ë“œ ì²´í¬ì•„ì›ƒ)</summary>
	
 	GitHubì—ì„œ main ë¸Œëœì¹˜ë¥¼ ì²´í¬ì•„ì›ƒí•©ë‹ˆë‹¤. GitHub ì¸ì¦ ì •ë³´(github-https-credentials)ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.
	
 	git branch: 'main', url: 'https://github.com/beyond-sw-camp/be08-fin-HQ-Heroes.git', credentialsId: 'github-https-credentials'
</details>

<details>
	<summary>3. Determine Changes Stage (ë³€ê²½ ì‚¬í•­ í™•ì¸)</summary>
	
	1. git diffë¥¼ ì‚¬ìš©í•˜ì—¬ ë§ˆì§€ë§‰ ì»¤ë°‹ê³¼ í˜„ì¬ ì»¤ë°‹ ê°„ì˜ íŒŒì¼ ë³€ê²½ ì‚¬í•­ì„ í™•ì¸í•©ë‹ˆë‹¤.
	2. Frontend/ì™€ Backend/Heroes/ ë””ë ‰í† ë¦¬ ë‚´ íŒŒì¼ì´ ë³€ê²½ëœ ê²½ìš°, í•´ë‹¹ ì˜ì—­ì— ëŒ€í•œ ë¹Œë“œë¥¼ ì„¤ì •í•©ë‹ˆë‹¤.

 	def changedFiles = sh(script: 'git diff --name-only HEAD~1', returnStdout: true).trim().split("\n")
	env.BUILD_FRONTEND = changedFiles.any { it.startsWith("Frontend/") } ? "true" : "false"
	env.BUILD_BACKEND = changedFiles.any { it.startsWith("Backend/Heroes/") } ? "true" : "false"
</details>

<details>
	<summary>4. Build Backend Docker Image Stage (ë°±ì—”ë“œ Docker ì´ë¯¸ì§€ ë¹Œë“œ)</summary>
	
	1. Backend/Heroes ë””ë ‰í† ë¦¬ë¡œ ì´ë™í•˜ì—¬ Gradleì„ ì‚¬ìš©í•´ ë°±ì—”ë“œ í”„ë¡œì íŠ¸ë¥¼ ë¹Œë“œí•©ë‹ˆë‹¤ (./gradlew clean bootJar).
	2. Dockerfileì„ ì‚¬ìš©í•˜ì—¬ Docker ì´ë¯¸ì§€ë¥¼ ë¹Œë“œí•©ë‹ˆë‹¤.

 	dir('Backend/Heroes') {
	    sh 'chmod +x ./gradlew'
	    sh './gradlew clean bootJar'
	    sh "docker build -t ${BACKEND_REPOSITORY}:${BACKEND_IMAGE_TAG} -f Dockerfile ."
	}
</details>

<details>
	<summary>5. Push Backend to ECR Stage (ë°±ì—”ë“œ ì´ë¯¸ì§€ ECR í‘¸ì‹œ)</summary>
	
	1. AWS CLIë¥¼ ì‚¬ìš©í•˜ì—¬ ECRì— ë¡œê·¸ì¸í•©ë‹ˆë‹¤.
	2. ë¹Œë“œí•œ ë°±ì—”ë“œ ì´ë¯¸ì§€ë¥¼ ECRë¡œ í‘¸ì‹œí•©ë‹ˆë‹¤.

 	sh "aws ecr get-login-password --region ${AWS_REGION} | docker login --username AWS --password-stdin ${ECR_REGISTRY}"
	sh "docker tag ${BACKEND_REPOSITORY}:${BACKEND_IMAGE_TAG} ${ECR_REGISTRY}/${BACKEND_REPOSITORY}:${BACKEND_IMAGE_TAG}"
	sh "docker push ${ECR_REGISTRY}/${BACKEND_REPOSITORY}:${BACKEND_IMAGE_TAG}"
</details>

<details>
	<summary>6. Build Frontend Docker Image Stage (í”„ë¡ íŠ¸ì—”ë“œ Docker ì´ë¯¸ì§€ ë¹Œë“œ)</summary>
	
	Frontend ë””ë ‰í† ë¦¬ë¡œ ì´ë™í•˜ì—¬ í”„ë¡ íŠ¸ì—”ë“œ Docker ì´ë¯¸ì§€ë¥¼ ë¹Œë“œí•©ë‹ˆë‹¤.

 	dir('Frontend') {
	    sh "docker build -t ${FRONTEND_REPOSITORY}:${FRONTEND_IMAGE_TAG} -f Dockerfile ."
	}
</details>

<details>
	<summary>7. Push Frontend to ECR Stage (í”„ë¡ íŠ¸ì—”ë“œ ì´ë¯¸ì§€ ECR í‘¸ì‹œ)</summary>
	
	ë¹Œë“œí•œ í”„ë¡ íŠ¸ì—”ë“œ ì´ë¯¸ì§€ë¥¼ ECRì— í‘¸ì‹œí•©ë‹ˆë‹¤.

 	sh "docker tag ${FRONTEND_REPOSITORY}:${FRONTEND_IMAGE_TAG} ${ECR_REGISTRY}/${FRONTEND_REPOSITORY}:${FRONTEND_IMAGE_TAG}"
	sh "docker push ${ECR_REGISTRY}/${FRONTEND_REPOSITORY}:${FRONTEND_IMAGE_TAG}"
</details>

<details>
	<summary>8. Update ArgoCD Stage (ArgoCD ì—…ë°ì´íŠ¸)</summary>
	
	1. Kubernetes ë°°í¬ íŒŒì¼(heroes-frontend-deploy.yaml, heroes-deploy.yaml)ì—ì„œ ì´ë¯¸ì§€ íƒœê·¸ë¥¼ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤.
	2. ë³€ê²½ëœ íŒŒì¼ë“¤ì„ Gitì— ì»¤ë°‹í•˜ê³  í‘¸ì‹œí•˜ì—¬ ArgoCDê°€ ìë™ìœ¼ë¡œ ë°°í¬í•˜ë„ë¡ í•©ë‹ˆë‹¤.

 	def frontendFilePath = 'k8s/heroes/heroes-frontend-deploy.yaml'
	def backendFilePath = 'k8s/heroes/heroes-deploy.yaml'
	
	if (env.BUILD_FRONTEND == "true") {
	    sh 'sed -i "s|image:.*frontend-repo:.*|image: ${ECR_REGISTRY}/${FRONTEND_REPOSITORY}:${FRONTEND_IMAGE_TAG}|g" ' + frontendFilePath
	}
	if (env.BUILD_BACKEND == "true") {
	    sh 'sed -i "s|image:.*backend-repo:.*|image: ${ECR_REGISTRY}/${BACKEND_REPOSITORY}:${BACKEND_IMAGE_TAG}|g" ' + backendFilePath
	}
	
	withCredentials([usernamePassword(credentialsId: 'github-https-credentials', usernameVariable: 'GIT_USERNAME', passwordVariable: 'GIT_PASSWORD')]) {
	    sh 'git add .'
	    sh 'git commit -m "Update image tags for frontend and backend with latest build" || echo "Nothing to commit, images may be up-to-date."'
	    sh 'git push https://${GIT_USERNAME}:${GIT_PASSWORD}@github.com/beyond-sw-camp/be08-fin-HQ-Heroes.git main'
	}
</details>

<details>
	<summary>9. Post Actions (ì„±ê³µ/ì‹¤íŒ¨ ì•Œë¦¼)</summary>
	
	ì„±ê³µ: Discord ì›¹í›…ì„ í†µí•´ ë¹Œë“œ ì„±ê³µ ë©”ì‹œì§€ë¥¼ ë³´ëƒ…ë‹ˆë‹¤.
	ì‹¤íŒ¨: ë¹Œë“œ ì‹¤íŒ¨ ì‹œì—ë„ Discord ì›¹í›…ì„ í†µí•´ ì‹¤íŒ¨ ë©”ì‹œì§€ë¥¼ ë³´ëƒ…ë‹ˆë‹¤.

 	discordSend description: "ArgoCD ë°°í¬ íŒŒì´í”„ë¼ì¸ì´ ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.\n\n" +
             "**Build ID**: ${BUILD_ID}\n" +
             "**Frontend Image**: ${ECR_REGISTRY}/${FRONTEND_REPOSITORY}:${FRONTEND_IMAGE_TAG}\n" +
             "**Backend Image**: ${ECR_REGISTRY}/${BACKEND_REPOSITORY}:${BACKEND_IMAGE_TAG}\n" +
             "**ì†Œìš” ì‹œê°„**: ${currentBuild.durationString}",
             footer: "ë¹Œë“œ ì„±ê³µ: ${currentBuild.displayName}",
             link: env.BUILD_URL,
             result: currentBuild.currentResult,
             title: "Jenkins ë¹Œë“œ ì„±ê³µ",
             webhookURL: "YOUR_DISCORD_WEBHOOK_URL"
</details>

### Jenkinsfile ì „ì²´ ì½”ë“œ
<details>
	<summary>ë³´ê¸°</summary>

	pipeline {
	    agent any
	    environment {
	        AWS_REGION = 'ap-northeast-2'
	        ECR_REGISTRY = '774305581884.dkr.ecr.ap-northeast-2.amazonaws.com' // ì‹¤ì œ ê³„ì • IDë¡œ ìˆ˜ì •
	        FRONTEND_REPOSITORY = 'frontend-repo'
	        BACKEND_REPOSITORY = 'backend-repo'
	        FRONTEND_IMAGE_TAG = "${BUILD_ID}-frontend"
	        BACKEND_IMAGE_TAG = "${BUILD_ID}-backend"
	    }
	    stages {
	        stage('Checkout') {
	            steps {
	                git branch: 'main', url: 'https://github.com/beyond-sw-camp/be08-fin-HQ-Heroes.git', credentialsId: 'github-https-credentials'
	            }
	        }
	
	        stage('Determine Changes') {
	            steps {
	                script {
	                    def changedFiles = sh(script: 'git diff --name-only HEAD~1', returnStdout: true).trim().split("\n")
	                    env.BUILD_FRONTEND = changedFiles.any { it.startsWith("Frontend/") } ? "true" : "false"
	                    env.BUILD_BACKEND = changedFiles.any { it.startsWith("Backend/Heroes/") } ? "true" : "false"
	                }
	            }
	        }
	
	        stage('Build Backend Docker Image') {
	            when {
	                expression { env.BUILD_BACKEND == "true" }
	            }
	            steps {
	                dir('Backend/Heroes') {  
	                    script {
	                        sh 'chmod +x ./gradlew'
	                        sh './gradlew clean bootJar'
	                        sh "docker build -t ${BACKEND_REPOSITORY}:${BACKEND_IMAGE_TAG} -f Dockerfile ."
	                    }
	                }
	            }
	        }
	        
	        stage('Push Backend to ECR') {
	            when {
	                expression { env.BUILD_BACKEND == "true" }
	            }
	            steps {
	                script {
	                    sh "aws ecr get-login-password --region ${AWS_REGION} | docker login --username AWS --password-stdin ${ECR_REGISTRY}"
	                    sh "docker tag ${BACKEND_REPOSITORY}:${BACKEND_IMAGE_TAG} ${ECR_REGISTRY}/${BACKEND_REPOSITORY}:${BACKEND_IMAGE_TAG}"
	                    sh "docker push ${ECR_REGISTRY}/${BACKEND_REPOSITORY}:${BACKEND_IMAGE_TAG}"
	                }
	            }
	        }
	
	        stage('Build Frontend Docker Image') {
	            when {
	                expression { env.BUILD_FRONTEND == "true" }
	            }
	            steps {
	                dir('Frontend') {  
	                    script {
	                        sh "docker build -t ${FRONTEND_REPOSITORY}:${FRONTEND_IMAGE_TAG} -f Dockerfile ."
	                    }
	                }
	            }
	        }
	        
	        stage('Push Frontend to ECR') {
	            when {
	                expression { env.BUILD_FRONTEND == "true" }
	            }
	            steps {
	                script {
	                    sh "docker tag ${FRONTEND_REPOSITORY}:${FRONTEND_IMAGE_TAG} ${ECR_REGISTRY}/${FRONTEND_REPOSITORY}:${FRONTEND_IMAGE_TAG}"
	                    sh "docker push ${ECR_REGISTRY}/${FRONTEND_REPOSITORY}:${FRONTEND_IMAGE_TAG}"
	                }
	            }
	        }
	
	        stage('Update ArgoCD') {
	            when {
	                anyOf {
	                    expression { env.BUILD_FRONTEND == "true" }
	                    expression { env.BUILD_BACKEND == "true" }
	                }
	            }
	            steps {
	                script {
	                    def frontendFilePath = 'k8s/heroes/heroes-frontend-deploy.yaml'
	                    def backendFilePath = 'k8s/heroes/heroes-deploy.yaml'
	
	                    // í˜„ì¬ íŒŒì¼ ìƒíƒœë¥¼ í™•ì¸í•˜ê¸° ìœ„í•´ ì¶œë ¥
	                    sh 'echo "Before Update:"'
	                    sh 'cat ' + frontendFilePath
	                    sh 'cat ' + backendFilePath
	
	                    // ì´ë¯¸ì§€ íƒœê·¸ ë³€ê²½ ì‘ì—…
	                    if (env.BUILD_FRONTEND == "true") {
	                        sh 'echo "Updating frontend image tag in heroes-frontend-deploy.yaml"'
	                        sh 'sed -i "s|image:.*frontend-repo:.*|image: ${ECR_REGISTRY}/${FRONTEND_REPOSITORY}:${FRONTEND_IMAGE_TAG}|g" ' + frontendFilePath
	                    }
	                    if (env.BUILD_BACKEND == "true") {
	                        sh 'echo "Updating backend image tag in heroes-deploy.yaml"'
	                        sh 'sed -i "s|image:.*backend-repo:.*|image: ${ECR_REGISTRY}/${BACKEND_REPOSITORY}:${BACKEND_IMAGE_TAG}|g" ' + backendFilePath
	                    }
	
	                    // sed ëª…ë ¹ ì‹¤í–‰ í›„ ë³€ê²½ ì‚¬í•­ í™•ì¸
	                    sh 'echo "After Update:"'
	                    sh 'cat ' + frontendFilePath
	                    sh 'cat ' + backendFilePath
	
	                    // í•­ìƒ ì»¤ë°‹ ë° í‘¸ì‹œ ìˆ˜í–‰
	                    withCredentials([usernamePassword(credentialsId: 'github-https-credentials', usernameVariable: 'GIT_USERNAME', passwordVariable: 'GIT_PASSWORD')]) {
	                        sh 'git config user.name "growjong8802"'
	                        sh 'git config user.email "growjong8802@gmail.com"'
	                        
	                        // ë³€ê²½ëœ íŒŒì¼ì„ Gitì— ì¶”ê°€ ë° ì»¤ë°‹
	                        sh 'git add .'
	                        sh 'git commit -m "Update image tags for frontend and backend with latest build" || echo "Nothing to commit, images may be up-to-date."'
	                        sh 'git push https://${GIT_USERNAME}:${GIT_PASSWORD}@github.com/beyond-sw-camp/be08-fin-HQ-Heroes.git main'
	                    }
	                }
	            }
	        }
	
	    }
	    
	    post {
	        success {
	            discordSend description: "ArgoCD ë°°í¬ íŒŒì´í”„ë¼ì¸ì´ ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.\n\n" +
	                        "**Build ID**: ${BUILD_ID}\n" +
	                        "**Frontend Image**: ${ECR_REGISTRY}/${FRONTEND_REPOSITORY}:${FRONTEND_IMAGE_TAG}\n" +
	                        "**Backend Image**: ${ECR_REGISTRY}/${BACKEND_REPOSITORY}:${BACKEND_IMAGE_TAG}\n" +
	                        "**ì†Œìš” ì‹œê°„**: ${currentBuild.durationString}",
	                footer: "ë¹Œë“œ ì„±ê³µ: ${currentBuild.displayName}",
	                link: env.BUILD_URL,
	                result: currentBuild.currentResult,
	                title: "Jenkins ë¹Œë“œ ì„±ê³µ",
	                webhookURL: "https://discord.com/api/webhooks/1303826751524311123/kKGqHJkVMapV1i_TrPuUYlRVVRcCiXtjGC4PeRLq_H5hfi44IcleIwdPFPVS6vZg8TA6"
	        }
	        
	        failure {
	            discordSend description: "ArgoCD ë°°í¬ íŒŒì´í”„ë¼ì¸ì´ ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.\n\n" +
	                        "**Build ID**: ${BUILD_ID}\n" +
	                        "**ì†Œìš” ì‹œê°„**: ${currentBuild.durationString}",
	                footer: "ë¹Œë“œ ì‹¤íŒ¨: ${currentBuild.displayName}",
	                link: env.BUILD_URL,
	                result: currentBuild.currentResult,
	                title: "Jenkins ë¹Œë“œ ì‹¤íŒ¨",
	                webhookURL: "https://discord.com/api/webhooks/1303826751524311123/kKGqHJkVMapV1i_TrPuUYlRVVRcCiXtjGC4PeRLq_H5hfi44IcleIwdPFPVS6vZg8TA6"
	        }
	    }
	}
</details>


<br>

## â–¶ï¸ CICD í…ŒìŠ¤íŠ¸(Jenkinsfile)
[CI/CD í…ŒìŠ¤íŠ¸ ì˜ìƒ](https://www.youtube.com/watch?v=VdlhfOg5f_k)

<br>


<br>

## ğŸ§‘â€ğŸ’» íŒ€ êµ¬ì„±
<br>
<div align="center">
<br>
<table>
  <tbody>
    <tr> 
      <td align="center"><a href="https://github.com/jongwon-kr"><img src="https://avatars.githubusercontent.com/u/76871947?v=4"width="140px;" height="140px" alt=""/><br /><b>ğŸ‘‘ê¹€ì¢…ì›</b></a><br /></td>
      <td align="center"><a href="https://github.com/tyeong1102"><img src="https://avatars.githubusercontent.com/u/97294927?s=96&v=4" width="140px;" height="140px" alt=""/><br /><b>ğŸ™ê¹€íƒœì˜</b></a><br /></td>
      <td align="center"><a href="https://github.com/tkckdnjs"><img src="https://avatars.githubusercontent.com/u/170069568?v=4" width="140px;" height="140px"  alt=""/><br /><b>ğŸ¶ì´ì€ì„œ</b></a><br /></td>
      <td align="center"><a href="https://github.com/eunhee78"><img src="https://avatars.githubusercontent.com/u/82626246?v=4" width="140px;" height="140px" alt=""/><br /><b>ğŸ‰ì¡°ì€í¬</b></a><br /></td>
      <td align="center"><a href="https://github.com/mmvne"><img src="https://avatars.githubusercontent.com/u/45449480?v=4" width="140px;" height="140px" alt=""/><br /><b>ğŸ§í™ì„ë¯¼</b></a><br /></td>
  </tbody>
</table>
</div>

<br>

## ğŸ» í•œì¤„ íšŒê³ ë¡
|&nbsp;&nbsp;&nbsp;&nbsp;íŒ€&nbsp;ì›&nbsp;&nbsp;&nbsp;&nbsp;|íšŒê³ |
|:----:|----|
|ğŸ‘‘ê¹€ì¢…ì›|<br><br>&nbsp;|
|ğŸ™ê¹€íƒœì˜|<br><br>&nbsp;|
|ğŸ¶ì´ì€ì„œ|<br><br>&nbsp;|
|ğŸ§ì¡°ì€í¬|<br><br>&nbsp;|
|ğŸ§í™ì„ë¯¼|<br><br>&nbsp;|

<br>
